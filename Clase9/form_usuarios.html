<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/from.css">
    <title>formulario</title>

</head>
<body>
    <div class="form-container">
        <h1>Formulario Completo de Registro</h1>
        <form action="#" method="post">
            <!-- Información Personal -->
            <div class="form-row">
                <div class="form-group">
                    <label for="nombre">Nombre:</label>
                    <input type="text" id="nombre" name="nombre" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="email">Correo:</label>
                    <input type="email" id="email" name="email" required>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="username">Username:</label>
                    <input type="text" id="username" name="username" required>
                </div>
            </div>


                <button type="submit" class="submit-btn">Enviar Formulario</button>
            </div>
        </form>
    </div>
</body>

</html>
    <script src="./js/jquery.js"></script>
    <script>

        window.onload = async function () {
        const urlParams = new URLSearchParams(window.location.search);
        const usuario = await getUsuario(urlParams.get('id'));
        $('#username').val(usuario.username);
        $('#nombre').val(usuario.name);
        $('#email').val(usuario.email);
        //$('#id').val(usuario.id);

        window.__originalUsuario = usuario;
        sessionStorage.setItem(`usr_${usuario.id}_original`, JSON.stringify(usuario));
    }

        const regex = {
        nombre: /^[A-Za-zÀ-ÿ'´`¨^.\-\s]{2,60}$/,
        apellido: /^[A-Za-zÀ-ÿ'´`¨^.\-\s]{2,60}$/,
        telefono: /^\+?[0-9\s\-()]{7,20}$/,
        comenentarios:  /^[A-Za-zÀ-ÿ0-9'´`¨^.,\-\s]{0,500}$/,
    };
    
    $('form').on('submit', function(e) {
        e.preventDefault(); // Evita el envío del formulario para validación

        const nombre = $('#nombre').val();
        const apellido = $('#apellido').val();
        const telefono = $('#telefono').val();
        const comentarios = $('#comentarios').val();
        const fechaNacimiento = $('#fecha_nacimiento').val();
        const pais = $('#pais').val();
        const genero = $('input[name="genero"]:checked').val();//input[name="genero"]: selecciona todos los inputs tipo radio con el atributo name=genero
                                                                //:checked selecciona el que está marcado
                                                                // .val() obtiene el valor del input seleccionado
 
         // Validaciones
       if(nombre && !regex.nombre.test(nombre)) {
            alert('El nombre solo debe contener letras y tener entre 2-60 caracteres.');
            return;
        }

        if(password && !regex.password.test(password)) {
            alert('La contraseña debe tener al menos 8 caracteres, incluyendo una mayúscula, una minúscula, un número y un carácter especial.');
            return;
        }

        if(password == !confirmPassword) {
            alert('Las contraseñas no coinciden.');
            return;
        }
       
    });

    async function getUsuario(id) {
  try {
    // 1. Define la URL del endpoint de la API
    const url = 'https://jsonplaceholder.typicode.com/users/' + id; // Ejemplo de URL

    // 2. Realiza la petición GET usando fetch
    const respuesta = await fetch(url);

    // 3. Convierte la respuesta a formato JSON
    const datos = await respuesta.json();

    // 4. Utiliza los datos
    console.log(datos);// Muestra los datos en la consola
    return datos; 
    // Aquí podrías actualizar la interfaz de usuario, por ejemplo
  } catch (error) {
    console.error('Error al consumir la API:', error);
  }
}

</script>

